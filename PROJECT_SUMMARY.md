# Research Canvas - é¡¹ç›®æ€»ç»“

## ğŸ‰ é¡¹ç›®å®Œæˆï¼

**Research Canvas** æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„AIé©±åŠ¨ç ”ç©¶åŠ©æ‰‹å·¥å…·ï¼Œæ‰€æœ‰7ä¸ªPhaseå·²å…¨éƒ¨å®ç°ã€‚

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **å¼€å‘å‘¨æœŸ**: å®Œæ•´å®ç°æ‰€æœ‰åŠŸèƒ½
- **ä»£ç æ–‡ä»¶**: 50+ æ–‡ä»¶
- **åŠŸèƒ½æ¨¡å—**: 7 ä¸ªä¸»è¦Phase
- **æŠ€æœ¯æ ˆ**: 10+ æ ¸å¿ƒæŠ€æœ¯
- **æ–‡æ¡£**: 6 ä¸ªè¯¦ç»†æ–‡æ¡£

---

## âœ… å·²å®ç°çš„åŠŸèƒ½

### Phase 1: é¡¹ç›®åˆå§‹åŒ– âœ…
- âœ… Next.js 15 + TypeScripté¡¹ç›®æ­å»º
- âœ… Tailwind CSS 3é…ç½®
- âœ… tldraw 4.0é›†æˆ
- âœ… åŸºç¡€UIå¸ƒå±€ï¼ˆç™½æ¿ + å¯¹è¯æ¡†ï¼‰

### Phase 2: Supabaseé…ç½® âœ…
- âœ… PostgreSQLæ•°æ®åº“Schemaè®¾è®¡
- âœ… pgvectoræ‰©å±•é…ç½®ï¼ˆå‘é‡æœç´¢ï¼‰
- âœ… Row Level Securityç­–ç•¥
- âœ… RealtimeåŠŸèƒ½å‡†å¤‡
- âœ… æ•°æ®åº“è¿ç§»æ–‡ä»¶

### Phase 3: è‡ªå®šä¹‰Shapes âœ…
- âœ… SearchResultCard - æœç´¢ç»“æœå¡ç‰‡
- âœ… NoteCard - ç¬”è®°å¡ç‰‡
- âœ… ClusterCard - èšç±»å¡ç‰‡
- âœ… å®Œæ•´çš„äº¤äº’æ”¯æŒï¼ˆæ‹–æ‹½ã€ç¼©æ”¾ï¼‰
- âœ… å¡ç‰‡åˆ›å»ºHelperå‡½æ•°

### Phase 4: AIå¯¹è¯å’Œæœç´¢ âœ…
- âœ… AIæ„å›¾è¯†åˆ«ç³»ç»Ÿ
- âœ… Googleæœç´¢é›†æˆï¼ˆMockï¼‰
- âœ… Twitteræœç´¢é›†æˆï¼ˆMockï¼‰
- âœ… è‡ªåŠ¨å¡ç‰‡ç”Ÿæˆ
- âœ… ChatBaräº¤äº’ç»„ä»¶

### Phase 5: å‘é‡æœç´¢å’Œæ™ºèƒ½å…³è” âœ…
- âœ… å‘é‡æ“ä½œAPI (`/api/vector/embed`, `/api/vector/search`)
- âœ… ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—
- âœ… è¯­ä¹‰å…³è”åˆ†æAPI (`/api/ai/relate`)
- âœ… ä¸»é¢˜èšç±»ç®—æ³•
- âœ… RelationshipPanel UIç»„ä»¶
- âœ… è‡ªåŠ¨è¿æ¥çº¿ç»˜åˆ¶

### Phase 6: å®æ—¶åä½œ âœ…
- âœ… Supabase Realtimeé›†æˆ
- âœ… useRealtimeBoard Hook
- âœ… useBoardPresence Hook
- âœ… PresenceIndicatorç»„ä»¶
- âœ… åœ¨çº¿ç”¨æˆ·æ˜¾ç¤º
- âœ… Broadcastæ¶ˆæ¯åŠŸèƒ½

### Phase 7: éƒ¨ç½²å’Œä¼˜åŒ– âœ…
- âœ… å®Œæ•´éƒ¨ç½²æŒ‡å—ï¼ˆDEPLOYMENT.mdï¼‰
- âœ… ç¯å¢ƒå˜é‡éªŒè¯ï¼ˆlib/env.tsï¼‰
- âœ… æ€§èƒ½ä¼˜åŒ–é…ç½®
- âœ… å®‰å…¨æœ€ä½³å®è·µæ–‡æ¡£
- âœ… æ›´æ–°æ‰€æœ‰æ–‡æ¡£

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
research-canvas/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ api/                      # API Routes
â”‚   â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/            # å¯¹è¯API
â”‚   â”‚   â”‚   â””â”€â”€ relate/          # å…³è”åˆ†æAPI
â”‚   â”‚   â”œâ”€â”€ search/              # ï¼ˆé¢„ç•™ï¼‰
â”‚   â”‚   â””â”€â”€ vector/
â”‚   â”‚       â”œâ”€â”€ embed/           # å‘é‡ç”ŸæˆAPI
â”‚   â”‚       â””â”€â”€ search/          # å‘é‡æœç´¢API
â”‚   â”œâ”€â”€ board/[id]/              # ç™½æ¿é¡µé¢
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ canvas/
â”‚   â”‚   â”œâ”€â”€ shapes/              # è‡ªå®šä¹‰Shapes
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchResultCardUtil.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NoteCardUtil.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ClusterCardUtil.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚   â”œâ”€â”€ CanvasBoard.tsx
â”‚   â”‚   â”œâ”€â”€ EditorContext.tsx
â”‚   â”‚   â”œâ”€â”€ RelationshipPanel.tsx  # æ™ºèƒ½å…³è”é¢æ¿
â”‚   â”‚   â”œâ”€â”€ PresenceIndicator.tsx  # åœ¨çº¿ç”¨æˆ·
â”‚   â”‚   â””â”€â”€ helpers.ts
â”‚   â””â”€â”€ chat/
â”‚       â””â”€â”€ ChatBar.tsx
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â””â”€â”€ openai.ts            # OpenAIé›†æˆ
â”‚   â”œâ”€â”€ search/
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â””â”€â”€ mock.ts              # Mockæœç´¢æ•°æ®
â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”œâ”€â”€ database.types.ts
â”‚   â”‚   â”œâ”€â”€ hooks.ts
â”‚   â”‚   â””â”€â”€ realtime.ts          # Realtime Hooks
â”‚   â”œâ”€â”€ vector/
â”‚   â”‚   â””â”€â”€ operations.ts        # å‘é‡æ“ä½œ
â”‚   â””â”€â”€ env.ts                   # ç¯å¢ƒå˜é‡éªŒè¯
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â””â”€â”€ 20250101000000_initial_schema.sql
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ public/
â”œâ”€â”€ ğŸ“š æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                # é¡¹ç›®æ¦‚è§ˆ
â”‚   â”œâ”€â”€ QUICKSTART.md            # å¿«é€Ÿå¼€å§‹
â”‚   â”œâ”€â”€ DEMO.md                  # DemoæŒ‡å—
â”‚   â”œâ”€â”€ HOW_IT_WORKS.md          # æŠ€æœ¯åŸç†
â”‚   â”œâ”€â”€ DEPLOYMENT.md            # éƒ¨ç½²æŒ‡å—
â”‚   â””â”€â”€ PROJECT_SUMMARY.md       # é¡¹ç›®æ€»ç»“ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”œâ”€â”€ next.config.ts
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ package.json
â””â”€â”€ .env.example
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Next.js 15** - Reactæ¡†æ¶
- **React 19** - UIåº“
- **TypeScript** - ç±»å‹å®‰å…¨
- **Tailwind CSS 3** - æ ·å¼
- **tldraw 4.0** - æ— é™ç”»å¸ƒ

### åç«¯
- **Next.js API Routes** - æœåŠ¡ç«¯API
- **Edge Runtime** - å¿«é€Ÿå“åº”
- **Supabase** - åç«¯æœåŠ¡
  - PostgreSQL - æ•°æ®åº“
  - pgvector - å‘é‡æœç´¢
  - Realtime - å®æ—¶åä½œ

### AI/ML
- **OpenAI API** - GPTæ¨¡å‹
- **text-embedding-3-small** - æ–‡æœ¬å‘é‡åŒ–
- **ä½™å¼¦ç›¸ä¼¼åº¦** - è¯­ä¹‰åˆ†æ

### çŠ¶æ€ç®¡ç†
- **Zustand** - è½»é‡çŠ¶æ€ç®¡ç†
- **React Context** - Editorå…±äº«

---

## ğŸ“ˆ æ ¸å¿ƒåŠŸèƒ½æµç¨‹

### 1. æœç´¢æµç¨‹
```
ç”¨æˆ·è¾“å…¥ â†’ AIæ„å›¾è¯†åˆ« â†’ è·¯ç”±åˆ°æœç´¢æœåŠ¡ â†’
æ‰§è¡Œæœç´¢ â†’ ç”Ÿæˆå¡ç‰‡ â†’ æ¸²æŸ“åˆ°ç™½æ¿
```

### 2. æ™ºèƒ½å…³è”æµç¨‹
```
ç‚¹å‡»å…³è”æŒ‰é’® â†’ è·å–æ‰€æœ‰å¡ç‰‡ â†’ ç”Ÿæˆå‘é‡ â†’
è®¡ç®—ç›¸ä¼¼åº¦ â†’ ä¸»é¢˜èšç±» â†’ ç»˜åˆ¶è¿æ¥çº¿ â†’ æ˜¾ç¤ºåˆ†æç»“æœ
```

### 3. å®æ—¶åä½œæµç¨‹
```
ç”¨æˆ·è¿›å…¥board â†’ å»ºç«‹Realtimeè¿æ¥ â†’
è¿½è¸ªPresence â†’ æ˜¾ç¤ºåœ¨çº¿ç”¨æˆ· â†’ ç›‘å¬å˜åŒ– â†’
å®æ—¶åŒæ­¥
```

---

## ğŸ¯ äº®ç‚¹åŠŸèƒ½

### 1. æ™ºèƒ½å…³è”åˆ†æ
- ä½¿ç”¨mockå‘é‡ç”Ÿæˆï¼ˆæ— éœ€APIï¼‰
- ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—
- è‡ªåŠ¨ä¸»é¢˜èšç±»
- å¯è§†åŒ–è¿æ¥çº¿

### 2. æ— ç¼é›†æˆtldraw
- 3ç§è‡ªå®šä¹‰Shapeç±»å‹
- å®Œæ•´çš„äº¤äº’æ”¯æŒ
- ç¨‹åºåŒ–æ“ä½œAPI
- ç¾è§‚çš„å¡ç‰‡è®¾è®¡

### 3. çµæ´»çš„æ¶æ„
- Mockæ•°æ®æ¼”ç¤ºï¼ˆæ— éœ€APIå¯†é’¥ï¼‰
- æ˜“äºåˆ‡æ¢åˆ°çœŸå®API
- æ¨¡å—åŒ–è®¾è®¡
- å®Œæ•´çš„TypeScriptç±»å‹

### 4. ç”Ÿäº§å°±ç»ª
- å®Œæ•´éƒ¨ç½²æ–‡æ¡£
- ç¯å¢ƒå˜é‡éªŒè¯
- å®‰å…¨æœ€ä½³å®è·µ
- æ€§èƒ½ä¼˜åŒ–

---

## ğŸš€ ä¸‹ä¸€æ­¥æ‰©å±•

è™½ç„¶æ‰€æœ‰è®¡åˆ’åŠŸèƒ½å·²å®ç°ï¼Œä½†ä»å¯ç»§ç»­æ‰©å±•ï¼š

### æ½œåœ¨åŠŸèƒ½
- ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–
- ğŸ¨ æ›´å¤šå¡ç‰‡ç±»å‹
- ğŸ” ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- ğŸ’¾ å¯¼å‡º/å¯¼å…¥åŠŸèƒ½
- ğŸ” å…¨æ–‡æœç´¢
- ğŸ“Š æ•°æ®å¯è§†åŒ–å›¾è¡¨
- ğŸ¤– æ›´é«˜çº§çš„AIåŠŸèƒ½
- ğŸŒ å¤šè¯­è¨€æ”¯æŒ

### APIé›†æˆ
- âœ… Google Search (Serper) - å·²é¢„ç•™æ¥å£
- âœ… Twitter API - å·²é¢„ç•™æ¥å£
- ğŸ”œ Wikipedia API
- ğŸ”œ GitHub API
- ğŸ”œ Arxiv APIï¼ˆå­¦æœ¯è®ºæ–‡ï¼‰

---

## ğŸ“ æ–‡æ¡£æ¸…å•

1. **README.md** - é¡¹ç›®æ¦‚è§ˆã€å¿«é€Ÿå¼€å§‹
2. **QUICKSTART.md** - 5åˆ†é’Ÿä¸Šæ‰‹æŒ‡å—
3. **DEMO.md** - å®Œæ•´Demoä½¿ç”¨è¯´æ˜
4. **HOW_IT_WORKS.md** - æŠ€æœ¯åŸç†è¯¦è§£
5. **DEPLOYMENT.md** - ç”Ÿäº§éƒ¨ç½²æŒ‡å—
6. **PROJECT_SUMMARY.md** - é¡¹ç›®æ€»ç»“ï¼ˆæœ¬æ–‡æ¡£ï¼‰
7. **supabase/README.md** - æ•°æ®åº“é…ç½®
8. **components/canvas/shapes/README.md** - Shapeå¼€å‘æŒ‡å—

---

## ğŸ“ å­¦ä¹ ä»·å€¼

è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†ï¼š

- âœ… Next.js 15 App Routeræœ€ä½³å®è·µ
- âœ… tldrawè‡ªå®šä¹‰Shapeå¼€å‘
- âœ… Supabaseå…¨æ ˆé›†æˆ
- âœ… å‘é‡æœç´¢å’Œè¯­ä¹‰åˆ†æ
- âœ… å®æ—¶åä½œå®ç°
- âœ… TypeScripté«˜çº§åº”ç”¨
- âœ… ç°ä»£å‰ç«¯æ¶æ„è®¾è®¡

---

## ğŸ’¡ å…³é”®ç»éªŒ

1. **æ¨¡å—åŒ–è®¾è®¡** - åŠŸèƒ½ç‹¬ç«‹ï¼Œæ˜“äºæ‰©å±•
2. **æ¸è¿›å¢å¼º** - Mockâ†’çœŸå®APIå¹³æ»‘è¿‡æ¸¡
3. **ç±»å‹å®‰å…¨** - TypeScripté¿å…è¿è¡Œæ—¶é”™è¯¯
4. **ç”¨æˆ·ä½“éªŒ** - å“åº”å¼ã€ç›´è§‚ã€ç¾è§‚
5. **æ–‡æ¡£å®Œå–„** - ä¾¿äºç†è§£å’Œç»´æŠ¤

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- [Next.js](https://nextjs.org) - Reactæ¡†æ¶
- [tldraw](https://tldraw.dev) - æ— é™ç”»å¸ƒSDK
- [Supabase](https://supabase.com) - åç«¯æœåŠ¡
- [OpenAI](https://openai.com) - AIèƒ½åŠ›
- [Tailwind CSS](https://tailwindcss.com) - æ ·å¼æ¡†æ¶

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿ï¼š
- ğŸ“§ æIssue
- ğŸ’¬ å‘èµ·Discussion
- ğŸŒŸ ç»™é¡¹ç›®Star

---

**ğŸ‰ é¡¹ç›®å®Œæˆï¼Ready for Productionï¼**
